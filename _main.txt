--// Load Fluent UI Library
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

--// T·∫°o c·ª≠a s·ªï GUI
local Window = Fluent:CreateWindow({
    Title = "Ton's Script Hub",
    SubTitle = "Multi Script Loader (all games)",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

--// T·∫°o tab
local Tabs = {
    Main = Window:AddTab({ Title = "Main", Icon = "terminal" }),
    Settings = Window:AddTab({ Title = "Settings", Icon = "settings" })
}

--// N√∫t ch·∫°y script Fly
Tabs.Main:AddButton({
    Title = "box gui script (all game)",
    Description = "need 1.1.1.1 to run (pastebin raw)",
    Callback = function()
        Fluent:Notify({
            Title = "box gui script (all games)",
            Content = "ƒêang t·∫£i script...",
            Duration = 4
        })

        loadstring(game:HttpGet("https://pastebin.com/raw/Rm8X3Btf", true))()  -- ‚Üê thay link script c·ªßa b·∫°n
    end
})

--// N√∫t ch·∫°y script ESP
Tabs.Main:AddButton({
    Title = "script grass (all game)",
    Description = "protect you from zomble",
    Callback = function()
        Fluent:Notify({
            Title = "script grass",
            Content = "loading",
            Duration = 4
        })

        loadstring(game:HttpGet("https://pastefy.app/bfoj4BKE/raw" , true))()
    end
})

--// N√∫t ch·∫°y script Auto Farm
Tabs.Main:AddButton({
    Title = "script kill npc dead raid s",
    Description = "l·∫•y c·∫£m h·ª©ng t·ª´ tsb",
    Callback = function()
        Fluent:Notify({
            Title = "Kill npc loading",
            Content = "Script ƒëang ho·∫°t ƒë·ªông!",
            Duration = 4
        })

        loadstring(game:HttpGet("https://raw.githubusercontent.com/catwljz/DeadRails/refs/heads/main/SeriousPunch.txt"))()
    end
})

--// N√∫t ch·∫°y script Fly
Tabs.Main:AddButton({
    Title = "script dead raid",
    Description = "keyless",
    Callback = function()
        Fluent:Notify({
            Title = "script loading",
            Content = "ƒêang t·∫£i script...(dead raid)",
            Duration = 4
        })

        loadstring(game:HttpGet("https://raw.githubusercontent.com/Unknownlodfc/Zephyr/refs/heads/main/DeadRails/Main"))()
    end
})

--// C·∫•u h√¨nh SaveManager & InterfaceManager
SaveManager:SetLibrary(Fluent)
InterfaceManager:SetLibrary(Fluent)
SaveManager:IgnoreThemeSettings()
InterfaceManager:SetFolder("TonHub")
SaveManager:SetFolder("TonHub/config")

InterfaceManager:BuildInterfaceSection(Tabs.Settings)
SaveManager:BuildConfigSection(Tabs.Settings)

Window:SelectTab(1)

Fluent:Notify({
    Title = "Ton's Script Hub",
    Content = "ƒê√£ t·∫£i th√†nh c√¥ng!",
    Duration = 6
})
--// üîò N√∫t icon ƒë·ªÉ m·ªü / ·∫©n GUI
local uiVisible = true

-- T·∫°o ScreenGui ƒë·ªÉ ch·ª©a n√∫t icon
local toggleGui = Instance.new("ScreenGui")
toggleGui.Name = "ToggleButtonGUI"
toggleGui.ResetOnSpawn = false
toggleGui.Parent = game:GetService("CoreGui")

-- T·∫°o n√∫t d·∫°ng ImageButton
local toggleButton = Instance.new("ImageButton")
toggleButton.Name = "FluentToggleButton"
toggleButton.Parent = toggleGui
toggleButton.AnchorPoint = Vector2.new(1, 1)
toggleButton.Position = UDim2.new(1, -20, 1, -20) -- m·∫∑c ƒë·ªãnh ·ªü g√≥c ph·∫£i d∆∞·ªõi
toggleButton.Size = UDim2.new(0, 50, 0, 50)
toggleButton.BackgroundTransparency = 1
toggleButton.Image = getcustomasset("Fluent/icon.png")

-- Khi click n√∫t ‚Üí ·∫©n/hi·ªán GUI Fluent
toggleButton.MouseButton1Click:Connect(function()
    uiVisible = not uiVisible
    for _, gui in pairs(game:GetService("CoreGui"):GetChildren()) do
        if gui.Name:find("Fluent") then
            gui.Enabled = uiVisible
        end
    end
end)

--// üñ±Ô∏è Th√™m t√≠nh nƒÉng K√âO (DRAG)
local UIS = game:GetService("UserInputService")
local dragging = false
local dragStart, startPos

local function update(input)
    local delta = input.Position - dragStart
    toggleButton.Position = UDim2.new(
        startPos.X.Scale,
        startPos.X.Offset + delta.X,
        startPos.Y.Scale,
        startPos.Y.Offset + delta.Y
    )
end

toggleButton.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = toggleButton.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

toggleButton.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        if dragging then
            update(input)
        end
    end
end)
